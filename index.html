<html>
  <head>
    <meta charset="UTF-8" />
    <title>Quantos anos você tem?</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body,
      input,
      button {
        font-size: 28px;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
      }
      @media (min-width: 800px) {
        body,
        input,
        button {
          font-size: 64px;
        }
      }

      input {
        word-spacing: -70%;
      }

      body {
        text-align: center;
      }
      input {
        width: 200px;
        margin-top: 10px;
        margin-bottom: 10px;
      }
      @media (min-width: 800px) {
        input {
          width: 400px;
        }
      }
      button {
        padding-left: 50px;
        padding-right: 50px;
      }
      span {
        margin: 10px 30px;
        display: block;
      }
    </style>
  </head>
  <body>
    <form action="" id="form">
      <span>Digite a sua data de nascimento</span>
      <input name="" id="data" value="" placeholder="dd/mm/aaaa" />
      <button id="calcular">Calcular</button>
    </form>
    <hr />
    <span id="resultado"> </span>
  </body>
  <script>
    document.getElementById("form").onsubmit = function(e) {
      e.preventDefault();
    };

    //Feb 05 1924 Jan 23 1925 Rat
    //Jan 24 1925 Feb 12 1926 Ox
    var tabela = [
      {
        data1: new Date("Feb 05 1924"),
        data2: new Date("Jan 23 1925"),
        signo: "rato"
      },
      {
        data1: new Date("Jan 24 1925"),
        data2: new Date("Feb 12 1926"),
        signo: "boi"
      },
      {
        data1: new Date("Feb 13 1926"),
        data2: new Date("Feb 01 1927"),
        signo: "tigre"
      },
      {
        data1: new Date("Feb 02 1927"),
        data2: new Date("Jan 22 1928"),
        signo: "coelho"
      },
      {
        data1: new Date("Jan 23 1928"),
        data2: new Date("Feb 09 1929"),
        signo: "dragão"
      },
      {
        data1: new Date("Feb 10 1929"),
        data2: new Date("Jan 29 1930"),
        signo: "cobra"
      },
      {
        data1: new Date("Jan 30 1930"),
        data2: new Date("Feb 16 1931"),
        signo: "cavalo"
      },
      {
        data1: new Date("Feb 17 1931"),
        data2: new Date("Feb 05 1932"),
        signo: "cabra"
      },
      {
        data1: new Date("Feb 06 1932"),
        data2: new Date("Jan 25 1933"),
        signo: "macaco"
      },
      {
        data1: new Date("Jan 26 1933"),
        data2: new Date("Feb 13 1934"),
        signo: "galo "
      },
      {
        data1: new Date("Feb 14 1934"),
        data2: new Date("Feb 03 1935"),
        signo: "cachorro"
      },
      {
        data1: new Date("Feb 04 1935"),
        data2: new Date("Jan 23 1936"),
        signo: "porco"
      },
      {
        data1: new Date("Jan 24 1936"),
        data2: new Date("Feb 10 1937"),
        signo: "rato"
      },
      {
        data1: new Date("Feb 11 1937"),
        data2: new Date("Jan 30 1938"),
        signo: "boi"
      },
      {
        data1: new Date("Jan 31 1938"),
        data2: new Date("Feb 18 1939"),
        signo: "tigre"
      },
      {
        data1: new Date("Feb 19 1939"),
        data2: new Date("Feb 07 1940"),
        signo: "coelho"
      },
      {
        data1: new Date("Feb 08 1940"),
        data2: new Date("Jan 26 1941"),
        signo: "dragão"
      },
      {
        data1: new Date("Jan 27 1941"),
        data2: new Date("Feb 14 1942"),
        signo: "cobra"
      },
      {
        data1: new Date("Feb 15 1942"),
        data2: new Date("Feb 04 1943"),
        signo: "cavalo"
      },
      {
        data1: new Date("Feb 05 1943"),
        data2: new Date("Jan 24 1944"),
        signo: "cabra"
      },
      {
        data1: new Date("Jan 25 1944"),
        data2: new Date("Feb 12 1945"),
        signo: "macaco"
      },
      {
        data1: new Date("Feb 13 1945"),
        data2: new Date("Feb 01 1946"),
        signo: "galo "
      },
      {
        data1: new Date("Feb 02 1946"),
        data2: new Date("Jan 21 1947"),
        signo: "cachorro"
      },
      {
        data1: new Date("Jan 22 1947"),
        data2: new Date("Feb 09 1948"),
        signo: "porco"
      },
      {
        data1: new Date("Feb 10 1948"),
        data2: new Date("Jan 28 1949"),
        signo: "rato"
      },
      {
        data1: new Date("Jan 29 1949"),
        data2: new Date("Feb 16 1950"),
        signo: "boi"
      },
      {
        data1: new Date("Feb 17 1950"),
        data2: new Date("Feb 05 1951"),
        signo: "tigre"
      },
      {
        data1: new Date("Feb 06 1951"),
        data2: new Date("Jan 26 1952"),
        signo: "coelho"
      },
      {
        data1: new Date("Jan 27 1952"),
        data2: new Date("Feb 13 1953"),
        signo: "dragão"
      },
      {
        data1: new Date("Feb 14 1953"),
        data2: new Date("Feb 02 1954"),
        signo: "cobra"
      },
      {
        data1: new Date("Feb 03 1954"),
        data2: new Date("Jan 23 1955"),
        signo: "cavalo"
      },
      {
        data1: new Date("Jan 24 1955"),
        data2: new Date("Feb 11 1956"),
        signo: "cabra"
      },
      {
        data1: new Date("Feb 12 1956"),
        data2: new Date("Jan 30 1957"),
        signo: "macaco"
      },
      {
        data1: new Date("Jan 31 1957"),
        data2: new Date("Feb 17 1958"),
        signo: "galo "
      },
      {
        data1: new Date("Feb 18 1958"),
        data2: new Date("Feb 07 1959"),
        signo: "cachorro"
      },
      {
        data1: new Date("Feb 08 1959"),
        data2: new Date("Jan 27 1960"),
        signo: "porco"
      },
      {
        data1: new Date("Jan 28 1960"),
        data2: new Date("Feb 14 1961"),
        signo: "rato"
      },
      {
        data1: new Date("Feb 15 1961"),
        data2: new Date("Feb 04 1962"),
        signo: "boi"
      },
      {
        data1: new Date("Feb 05 1962"),
        data2: new Date("Jan 24 1963"),
        signo: "tigre"
      },
      {
        data1: new Date("Jan 25 1963"),
        data2: new Date("Feb 12 1964"),
        signo: "coelho"
      },
      {
        data1: new Date("Feb 13 1964"),
        data2: new Date("Feb 01 1965"),
        signo: "dragão"
      },
      {
        data1: new Date("Feb 02 1965"),
        data2: new Date("Jan 20 1966"),
        signo: "cobra"
      },
      {
        data1: new Date("Jan 21 1966"),
        data2: new Date("Feb 08 1967"),
        signo: "cavalo"
      },
      {
        data1: new Date("Feb 09 1967"),
        data2: new Date("Jan 29 1968"),
        signo: "cabra"
      },
      {
        data1: new Date("Jan 30 1968"),
        data2: new Date("Feb 16 1969"),
        signo: "macaco"
      },
      {
        data1: new Date("Feb 17 1969"),
        data2: new Date("Feb 05 1970"),
        signo: "galo "
      },
      {
        data1: new Date("Feb 06 1970"),
        data2: new Date("Jan 26 1971"),
        signo: "cachorro"
      },
      {
        data1: new Date("Jan 27 1971"),
        data2: new Date("Feb 14 1972"),
        signo: "porco"
      },
      {
        data1: new Date("Feb 15 1972"),
        data2: new Date("Feb 02 1973"),
        signo: "rato"
      },
      {
        data1: new Date("Feb 03 1973"),
        data2: new Date("Jan 22 1974"),
        signo: "boi"
      },
      {
        data1: new Date("Jan 23 1974"),
        data2: new Date("Feb 10 1975"),
        signo: "tigre"
      },
      {
        data1: new Date("Feb 11 1975"),
        data2: new Date("Jan 30 1976"),
        signo: "coelho"
      },
      {
        data1: new Date("Jan 31 1976"),
        data2: new Date("Feb 17 1977"),
        signo: "dragão"
      },
      {
        data1: new Date("Feb 18 1977"),
        data2: new Date("Feb 06 1978"),
        signo: "cobra"
      },
      {
        data1: new Date("Feb 07 1978"),
        data2: new Date("Jan 27 1979"),
        signo: "cavalo"
      },
      {
        data1: new Date("Jan 28 1979"),
        data2: new Date("Feb 15 1980"),
        signo: "cabra"
      },
      {
        data1: new Date("Feb 16 1980"),
        data2: new Date("Feb 04 1981"),
        signo: "macaco"
      },
      {
        data1: new Date("Feb 05 1981"),
        data2: new Date("Jan 24 1982"),
        signo: "galo "
      },
      {
        data1: new Date("Jan 25 1982"),
        data2: new Date("Feb 12 1983"),
        signo: "cachorro"
      },
      {
        data1: new Date("Feb 13 1983"),
        data2: new Date("Feb 01 1984"),
        signo: "porco"
      },
      {
        data1: new Date("Feb 02 1984"),
        data2: new Date("Feb 19 1985"),
        signo: "rato"
      },
      {
        data1: new Date("Feb 20 1985"),
        data2: new Date("Feb 08 1986"),
        signo: "boi"
      },
      {
        data1: new Date("Feb 09 1986"),
        data2: new Date("Jan 28 1987"),
        signo: "tigre"
      },
      {
        data1: new Date("Jan 29 1987"),
        data2: new Date("Feb 16 1988"),
        signo: "coelho"
      },
      {
        data1: new Date("Feb 17 1988"),
        data2: new Date("Feb 05 1989"),
        signo: "dragão"
      },
      {
        data1: new Date("Feb 06 1989"),
        data2: new Date("Jan 26 1990"),
        signo: "cobra"
      },
      {
        data1: new Date("Jan 27 1990"),
        data2: new Date("Feb 14 1991"),
        signo: "cavalo"
      },
      {
        data1: new Date("Feb 15 1991"),
        data2: new Date("Feb 03 1992"),
        signo: "cabra"
      },
      {
        data1: new Date("Feb 04 1992"),
        data2: new Date("Jan 22 1993"),
        signo: "macaco"
      },
      {
        data1: new Date("Jan 23 1993"),
        data2: new Date("Feb 09 1994"),
        signo: "galo "
      },
      {
        data1: new Date("Feb 10 1994"),
        data2: new Date("Jan 30 1995"),
        signo: "cachorro"
      },
      {
        data1: new Date("Jan 31 1995"),
        data2: new Date("Feb 18 1996"),
        signo: "porco"
      },
      {
        data1: new Date("Feb 19 1996"),
        data2: new Date("Feb 06 1997"),
        signo: "rato"
      },
      {
        data1: new Date("Feb 07 1997"),
        data2: new Date("Jan 27 1998"),
        signo: "boi"
      },
      {
        data1: new Date("Jan 28 1998"),
        data2: new Date("Feb 15 1999"),
        signo: "tigre"
      },
      {
        data1: new Date("Feb 16 1999"),
        data2: new Date("Feb 04 2000"),
        signo: "coelho"
      },
      {
        data1: new Date("Feb 05 2000"),
        data2: new Date("Jan 23 2001"),
        signo: "dragão"
      },
      {
        data1: new Date("Jan 24 2001"),
        data2: new Date("Feb 11 2002"),
        signo: "cobra"
      },
      {
        data1: new Date("Feb 12 2002"),
        data2: new Date("Jan 31 2003"),
        signo: "cavalo"
      },
      {
        data1: new Date("Feb 01 2003"),
        data2: new Date("Jan 21 2004"),
        signo: "cabra"
      },
      {
        data1: new Date("Jan 22 2004"),
        data2: new Date("Feb 08 2005"),
        signo: "macaco"
      },
      {
        data1: new Date("Feb 09 2005"),
        data2: new Date("Jan 28 2006"),
        signo: "galo "
      },
      {
        data1: new Date("Jan 29 2006"),
        data2: new Date("Feb 17 2007"),
        signo: "cachorro"
      },
      {
        data1: new Date("Feb 18 2007"),
        data2: new Date("Feb 06 2008"),
        signo: "porco"
      },
      {
        data1: new Date("Feb 07 2008"),
        data2: new Date("Jan 25 2009"),
        signo: "rato"
      },
      {
        data1: new Date("Jan 26 2009"),
        data2: new Date("Feb 13 2010"),
        signo: "boi"
      },
      {
        data1: new Date("Feb 14 2010"),
        data2: new Date("Feb 02 2011"),
        signo: "tigre"
      },
      {
        data1: new Date("Feb 03 2011"),
        data2: new Date("Jan 22 2012"),
        signo: "coelho"
      },
      {
        data1: new Date("Jan 23 2012"),
        data2: new Date("Feb 09 2013"),
        signo: "dragão"
      },
      {
        data1: new Date("Feb 10 2013"),
        data2: new Date("Jan 30 2014"),
        signo: "cobra"
      },
      {
        data1: new Date("Jan 31 2014"),
        data2: new Date("Feb 18 2015"),
        signo: "cavalo"
      },
      {
        data1: new Date("Feb 19 2015"),
        data2: new Date("Feb 07 2016"),
        signo: "cabra"
      },
      {
        data1: new Date("Feb 08 2016"),
        data2: new Date("Jan 27 2017"),
        signo: "macaco"
      },
      {
        data1: new Date("Jan 28 2017"),
        data2: new Date("Feb 15 2018"),
        signo: "galo "
      },
      {
        data1: new Date("Feb 16 2018"),
        data2: new Date("Feb 04 2019"),
        signo: "cachorro"
      },
      {
        data1: new Date("Feb 05 2019"),
        data2: new Date("Jan 24 2020"),
        signo: "porco"
      },
      {
        data1: new Date("Jan 25 2020"),
        data2: new Date("Feb 11 2021"),
        signo: "rato"
      },
      {
        data1: new Date("Feb 12 2021"),
        data2: new Date("Jan 31 2022"),
        signo: "boi"
      },
      {
        data1: new Date("Feb 01 2022"),
        data2: new Date("Jan 21 2023"),
        signo: "tigre"
      },
      {
        data1: new Date("Jan 22 2023"),
        data2: new Date("Feb 09 2024"),
        signo: "coelho"
      },
      {
        data1: new Date("Feb 10 2024"),
        data2: new Date("Jan 28 2025"),
        signo: "dragão"
      },
      {
        data1: new Date("Jan 29 2025"),
        data2: new Date("Feb 16 2026"),
        signo: "cobra"
      },
      {
        data1: new Date("Feb 17 2026"),
        data2: new Date("Feb 05 2027"),
        signo: "cavalo"
      },
      {
        data1: new Date("Feb 06 2027"),
        data2: new Date("Jan 25 2028"),
        signo: "cabra"
      },
      {
        data1: new Date("Jan 26 2028"),
        data2: new Date("Feb 12 2029"),
        signo: "macaco"
      },
      {
        data1: new Date("Feb 13 2029"),
        data2: new Date("Feb 02 2030"),
        signo: "galo "
      },
      {
        data1: new Date("Feb 03 2030"),
        data2: new Date("Jan 22 2031"),
        signo: "cachorro"
      },
      {
        data1: new Date("Jan 23 2031"),
        data2: new Date("Feb 10 2032"),
        signo: "porco"
      },
      {
        data1: new Date("Feb 11 2032"),
        data2: new Date("Jan 30 2033"),
        signo: "rato"
      },
      {
        data1: new Date("Jan 31 2033"),
        data2: new Date("Feb 18 2034"),
        signo: "boi"
      },
      {
        data1: new Date("Feb 19 2034"),
        data2: new Date("Feb 07 2035"),
        signo: "tigre"
      },
      {
        data1: new Date("Feb 08 2035"),
        data2: new Date("Jan 27 2036"),
        signo: "coelho"
      },
      {
        data1: new Date("Jan 28 2036"),
        data2: new Date("Feb 14 2037"),
        signo: "dragão"
      },
      {
        data1: new Date("Feb 15 2037"),
        data2: new Date("Feb 03 2038"),
        signo: "cobra"
      },
      {
        data1: new Date("Feb 04 2038"),
        data2: new Date("Jan 23 2039"),
        signo: "cavalo"
      },
      {
        data1: new Date("Jan 24 2039"),
        data2: new Date("Feb 11 2040"),
        signo: "cabra"
      },
      {
        data1: new Date("Feb 12 2040"),
        data2: new Date("Jan 31 2041"),
        signo: "macaco"
      },
      {
        data1: new Date("Feb 01 2041"),
        data2: new Date("Jan 21 2042"),
        signo: "galo "
      },
      {
        data1: new Date("Jan 22 2042"),
        data2: new Date("Feb 09 2043"),
        signo: "cachorro"
      },
      {
        data1: new Date("Feb 10 2043"),
        data2: new Date("Jan 29 2044"),
        signo: "porco"
      }
    ];

    var tabela2 = [
      {
        signo: "áries ♈",
        data1: { dia: 21, mes: 2 },
        data2: { dia: 19, mes: 3 }
      },
      {
        signo: "touro ♉",
        data1: { dia: 20, mes: 3 },
        data2: { dia: 20, mes: 4 }
      },
      {
        signo: "gêmeos ♊",
        data1: { dia: 21, mes: 4 },
        data2: { dia: 20, mes: 5 }
      },
      {
        signo: "câncer ♋",
        data1: { dia: 21, mes: 5 },
        data2: { dia: 22, mes: 6 }
      },
      {
        signo: "leão ♌",
        data1: { dia: 23, mes: 6 },
        data2: { dia: 22, mes: 7 }
      },
      {
        signo: "virgem ♍",
        data1: { dia: 23, mes: 7 },
        data2: { dia: 22, mes: 8 }
      },
      {
        signo: "libra ♎",
        data1: { dia: 23, mes: 8 },
        data2: { dia: 22, mes: 9 }
      },
      {
        signo: "escorpião ♏",
        data1: { dia: 23, mes: 9 },
        data2: { dia: 21, mes: 10 }
      },
      {
        signo: "sagitário ♐",
        data1: { dia: 23, mes: 10 },
        data2: { dia: 21, mes: 11 }
      },
      {
        signo: "capricórnio ♑",
        data1: { dia: 22, mes: 11 },
        data2: { dia: 19, mes: 0 }
      },
      {
        signo: "aquário ♒",
        data1: { dia: 20, mes: 0 },
        data2: { dia: 18, mes: 1 }
      },
      {
        signo: "peixes ♓",
        data1: { dia: 19, mes: 1 },
        data2: { dia: 20, mes: 2 }
      }
    ];

    document.getElementById("calcular").onclick = function() {
      var strDate = document.getElementById("data").value;
      var dateParts = strDate.split("/");
      var bday = new Date(
        parseInt(dateParts[2]),
        parseInt(dateParts[1] - 1),
        parseInt(dateParts[0])
      );

      var resultado = document.getElementById("resultado");

      if (!isDateValid(bday)) {
        resultado.innerHTML = "Data inválida";
        return;
      }

      var today = new Date();

      function clear() {
        resultado.innerHTML = "";
      }

      function write(label, value) {
        resultado.innerHTML += "<br>" + label + ": " + value;
      }

      function isLeapYear(year) {
        return (0 == year % 4 && 0 != year % 100) || 0 == year % 400;
      }

      function numLeapYears(bday, today) {
        var cont = 0;
        for (var i = bday.getFullYear(); i <= today.getFullYear(); i++) {
          if (isLeapYear(i)) {
            cont++;
          }
        }
        return cont;
      }

      function isDateValid(date) {
        return date.getTime() === date.getTime();
      }
      //comitando

      clear();
      var leapYears = numLeapYears(bday, today);
      //write("leapYears", leapYears);
      var anos = today.getFullYear() - bday.getFullYear() - 1;
      //write("anos", anos);
      var anosEmDias = leapYears * 366 + (anos - leapYears) * 365;
      //write("anosEmDias", anosEmDias);
      var dias = (today - bday) / (1000 * 60 * 60 * 24);
      //write("dias", dias);
      var diffDias = dias - anosEmDias;
      //write("diffDias", diffDias);
      if (diffDias >= 365) {
        anos++;
        diffDias -= 365;
      }
      var meses = Math.floor(diffDias / 30);
      if (meses == 12) {
        meses = 0;
        anos++;
      }
      //write("meses", meses);
      var diasFinal = Math.floor(diffDias % 30);
      //write("diasFinal", diasFinal);

      function calculadiadasemana() {
        switch (bday.getDay()) {
          case 0:
            return "um domingo";
          case 1:
            return "uma segunda-feira";
          case 2:
            return "uma terça-feira";
          case 3:
            return "uma quarta-feira";
          case 4:
            return "uma quinta-feira";
          case 5:
            return "uma sexta-feira";
          case 6:
            return "um sábado";
        }
      }

      function millisecToDaysFloor(milliseconds) {
        return Math.floor(milliseconds / (60 * 60 * 24 * 1000));
      }

      function tempoFaltando() {
        var newbday = new Date(
          today.getFullYear(),
          bday.getMonth(),
          bday.getDate()
        );
        var diferença = millisecToDaysFloor(today - newbday);
        if (diferença > 0) {
          newbday.setFullYear(today.getFullYear() + 1);
          return millisecToDaysFloor(newbday - today);
        }
        return -diferença;
      }

      resultado.innerHTML +=
        "<br>Você tem " +
        anos +
        (anos == 1 ? " ano e " : " anos e ") +
        meses +
        (meses == 1 ? " mês e " : " meses e ") +
        diasFinal +
        (diasFinal == 1 ? " dia." : " dias.");

      var segundos = Math.floor((today - bday) / 1000);
      var segundosString = segundos.toString();
      var segundosStringRev = "";
      var segundosFinal = "";

      for (let i = 0; i < segundosString.length; i++) {
        segundosStringRev += segundosString[segundosString.length - i - 1];
      }
      for (let i = segundosString.length - 1; i >= 0; i--) {
        segundosFinal += segundosStringRev[i];
        if (i > 0 && i % 3 == 0) segundosFinal += ".";
      }
      resultado.innerHTML +=
        "<br>Você tem " + segundosFinal + " segundos de vida.";

      resultado.innerHTML += "<br>Você nasceu em " + calculadiadasemana() + ".";

      if (tempoFaltando() != 1) {
        resultado.innerHTML +=
          "<br>Faltam " + tempoFaltando() + " dias para o seu aniversário.";
      } else {
        resultado.innerHTML +=
          "<br>Falta " + tempoFaltando() + " dia para o seu aniversário.";
      }

      for (let i = 0; i < tabela2.length; i++) {
        if (
          (bday.getMonth() == tabela2[i].data1.mes &&
            bday.getDate() >= tabela2[i].data1.dia) ||
          (bday.getMonth() == tabela2[i].data2.mes &&
            bday.getDate() <= tabela2[i].data2.dia)
        ) {
          resultado.innerHTML += "<br>Seu signo é " + tabela2[i].signo + ".";
          break;
        }
      }

      for (let i = 0; i < tabela.length; i++) {
        if (bday >= tabela[i].data1 && bday <= tabela[i].data2) {
          //console.log("Seu signo chinês é " + tabela[i].signo);
          resultado.innerHTML +=
            "<br>Seu signo chinês é " + tabela[i].signo + " ";
          switch (tabela[i].signo) {
            case "rato":
              resultado.innerHTML += "🐭";
              break;
            case "boi":
              resultado.innerHTML += "🐮";
              break;
            case "tigre":
              resultado.innerHTML += "🐯";
              break;
            case "coelho":
              resultado.innerHTML += "🐰";
              break;
            case "dragão":
              resultado.innerHTML += "🐲";
              break;
            case "cobra":
              resultado.innerHTML += "🐍";
              break;
            case "cavalo":
              resultado.innerHTML += "🐴";
              break;
            case "cabra":
              resultado.innerHTML += "🐐";
              break;
            case "macaco":
              resultado.innerHTML += "🐵";
              break;
            case "galo":
              resultado.innerHTML += "🐔";
              break;
            case "cachorro":
              resultado.innerHTML += "🐶";
              break;
            case "porco":
              resultado.innerHTML += "🐷";
              break;
          }
          break;
        }
      }
      resultado.innerHTML += ".";

      var link =
        "https://pt.wikipedia.org/wiki/" +
        bday.getDate() +
        "_de_" +
        getNomeMes(bday.getMonth());
      resultado.innerHTML +=
        "<br><a href='" +
        link +
        "' target='blank'>Curiosidades do dia do seu aniversário</a>";
    };

    function getNomeMes(mes) {
      switch (mes) {
        case 0:
          return "janeiro";
        case 1:
          return "fevereiro";
        case 2:
          return "março";
        case 3:
          return "abril";
        case 4:
          return "maio";
        case 5:
          return "junho";
        case 6:
          return "julho";
        case 7:
          return "agosto";
        case 8:
          return "setembro";
        case 9:
          return "outubro";
        case 10:
          return "novembro";
        case 11:
          return "dezembro";
      }
    }

    var date = document.getElementById("data");

    function checkValue(str, max) {
      if (str.charAt(0) !== "0" || str == "00") {
        var num = parseInt(str);
        if (isNaN(num) || num <= 0 || num > max) num = 1;
        str =
          num > parseInt(max.toString().charAt(0)) && num.toString().length == 1
            ? "0" + num
            : num.toString();
      }
      return str;
    }

    date.addEventListener("input", function(e) {
      this.type = "text";
      var input = this.value;
      if (/\D\/$/.test(input)) input = input.substr(0, input.length - 3);
      var values = input.split("/").map(function(v) {
        return v.replace(/\D/g, "");
      });
      if (values[0]) values[0] = checkValue(values[0], 31);
      if (values[1]) values[1] = checkValue(values[1], 12);
      var output = values.map(function(v, i) {
        return v.length == 2 && i < 2 ? v + " / " : v;
      });
      this.value = output.join("").substr(0, 14);
    });
  </script>
</html>
